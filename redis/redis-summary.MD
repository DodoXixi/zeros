# redis总结
- **[redis常见面试题]**(#redis常见面试问题)
    - ***[Redis有哪几种数据淘汰策略]***(#Redis有哪几种数据淘汰策略？)



### 多路I/O复用
## redis常见面试问题：
### Redis有哪几种数据淘汰策略？
### 一个字符串类型的值能存储最大容量是多少？
### MySQL里有2000w数据，redis中只存20w的数据，如何保证redis中的数据都是热点数据？
答：redis内存数据集大小上升到一定大小的时候，就会施行数据淘汰策略。
### Redis有哪些适合的场景？
- ***[会话缓存(Session Cache)]***
- ***全页缓存(FPC)***
- ***[Redis如何设计消息队列](#Redis如何设计消息队列)***
- ***排行榜/计数器***
- ***发布/订阅***
### 说说Redis哈希槽的概念？
### Redis集群会有写操作丢失吗？为什么？
### Redis中的管道有什么用？
### Redis如何做内存优化？
### Redis回收进程如何工作的？
### Redis如何设计消息队列
普通队列:一般使用list结构作为队列，rpush生产消息，lpop消费消息,blpop阻塞消费。

消费多次：生产一次消费多次的情况使用发布/订阅模式

延时队列:使用sortedset，拿时间戳作为score，消息内容作为key调用zadd来生产消息，消费者用zrangebyscore指令获取N秒之前的数据轮询进行处理

### Redis为什么使用单进程单线程方式也这么快
- ***完全基于内存***
- ***数据结构简单,对数据操作也简单***
- [使用多路I/O复用模型](#多路I/O复用)
### 如果有大量的key需要设置同一时间过期，一般需要注意什么？
名词： 
- ***缓存雪崩***
- ***缓存击穿***
- ***缓存预热***
   一般都是在活动开启之前，把热点数据放到redis中，做到一个提前预防的作用。
- ***缓存更新***
   DB中的数据改动后，为了保持数据的一致性，将数据同步到redis中一份。
- ***缓存降级***
- ***缓存热点数据***
热点key缓存失效重建缓存时，大量访问进来，造成并发问题。

两种解决方式：1.在程序中利用互斥锁实现或在redis中利用nx获取分布式锁，造成该代码块只能在同一时间被同一线程执行。
           2.不设置超时时间，永远有效(这种情况用的比较少，一般会造成数据不一致)

参照：https://cloud.tencent.com/developer/article/1409260



### 注释：
内容来源于[redis中文网](http://www.redis.cn/)